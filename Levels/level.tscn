[gd_scene load_steps=16 format=3 uid="uid://dhv5pync05m0o"]

[ext_resource type="PackedScene" uid="uid://ctyyvjuf6mil0" path="res://Scenes/Ship/ship.tscn" id="1_63a6j"]
[ext_resource type="Script" path="res://Levels/level.gd" id="1_vcq5y"]
[ext_resource type="Shader" path="res://shaders/scrolling.gdshader" id="2_rqj0d"]
[ext_resource type="PackedScene" path="res://Scenes/Enemies/bosses/the_eye_boss.tscn" id="4_uniro"]
[ext_resource type="PackedScene" uid="uid://c78xwe7iom0xl" path="res://UI/hud.tscn" id="4_uv5kp"]
[ext_resource type="PackedScene" uid="uid://dckfu7wswudjj" path="res://Scenes/Enemies/strafing_ufo.tscn" id="5_ojeyo"]
[ext_resource type="PackedScene" uid="uid://c4ef0es8x8w6x" path="res://Interactables/Pickups/weapon_pickups/triple_pickup.tscn" id="6_f7w3v"]
[ext_resource type="PackedScene" uid="uid://dyencv4rd12ob" path="res://Interactables/Pickups/weapon_pickups/double_pickup.tscn" id="7_0f0iu"]
[ext_resource type="PackedScene" uid="uid://ojgp2563n225" path="res://Interactables/Pickups/projectiles_pickups/rotating_projectile_pickup.tscn" id="8_7p84h"]
[ext_resource type="PackedScene" uid="uid://c7lo08f6g8wg6" path="res://Interactables/Pickups/general_pickups/health_pickup.tscn" id="9_u6ev2"]
[ext_resource type="PackedScene" uid="uid://c7f6vdme6nuc2" path="res://Scenes/graphics/scrolling_background.tscn" id="9_xgqf7"]
[ext_resource type="PackedScene" uid="uid://domfenqltncx5" path="res://Scenes/Enemies/Utils/enemy_spawner.tscn" id="10_0h7ti"]
[ext_resource type="PackedScene" uid="uid://bb25nttx8v6nu" path="res://Scenes/Enemies/enemy_simple_ufo.tscn" id="13_rtufn"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cssji"]
shader = ExtResource("2_rqj0d")
shader_parameter/speed = 0.1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lfgg0"]
size = Vector2(954, 120)

[node name="Level" type="Node2D"]
process_mode = 1
script = ExtResource("1_vcq5y")
scroll_shader = SubResource("ShaderMaterial_cssji")

[node name="Ship" parent="." instance=ExtResource("1_63a6j")]

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Enemies" type="Node2D" parent="."]

[node name="TheEyeBoss" parent="Enemies" instance=ExtResource("4_uniro")]
position = Vector2(-48, -304)

[node name="TheEyeBody" parent="Enemies/TheEyeBoss/Paths/Path2D/PathFollow2D" index="0"]
weapon_cooldown = 0.05

[node name="StrafingUfo" parent="Enemies" instance=ExtResource("5_ojeyo")]
position = Vector2(-96, -444)

[node name="Projectiles" type="Node2D" parent="."]

[node name="Player" type="Node2D" parent="Projectiles"]

[node name="Enemies" type="Node2D" parent="Projectiles"]

[node name="PlayerWeapon" type="Node2D" parent="."]

[node name="HUD" parent="." instance=ExtResource("4_uv5kp")]

[node name="Zones" type="Node2D" parent="."]

[node name="EnemyKillZone" type="Area2D" parent="Zones"]
collision_layer = 16
collision_mask = 62

[node name="CollisionShape2D" type="CollisionShape2D" parent="Zones/EnemyKillZone"]
position = Vector2(0, 804)
shape = SubResource("RectangleShape2D_lfgg0")

[node name="Objects" type="Node2D" parent="."]

[node name="TrippleWeaponPickup" parent="Objects" instance=ExtResource("6_f7w3v")]
position = Vector2(226, -210)

[node name="DoublePickup" parent="Objects" instance=ExtResource("7_0f0iu")]
position = Vector2(-271, -253)

[node name="RotatingProjectilePickup" parent="Objects" instance=ExtResource("8_7p84h")]
position = Vector2(58, -242)

[node name="HealthPickup" parent="Objects" instance=ExtResource("9_u6ev2")]
position = Vector2(-115, -198)

[node name="ScrollingBackground" parent="." instance=ExtResource("9_xgqf7")]
process_mode = 1

[node name="StartPoint" type="Marker2D" parent="."]
position = Vector2(449, 1040)

[node name="EnemySpawner" parent="." instance=ExtResource("10_0h7ti")]
position = Vector2(0, -689)
enemy_scenes = Array[PackedScene]([ExtResource("13_rtufn"), ExtResource("5_ojeyo")])

[connection signal="shoot" from="Ship" to="." method="_on_ship_shoot"]
[connection signal="enemy_shoot" from="Enemies/TheEyeBoss" to="." method="_on_enemy_simple_ufo_enemy_shoot"]
[connection signal="area_entered" from="Zones/EnemyKillZone" to="." method="_on_enemy_kill_zone_area_entered"]
[connection signal="body_entered" from="Zones/EnemyKillZone" to="." method="_on_enemy_kill_zone_body_entered"]
[connection signal="spawn_enemy_at" from="EnemySpawner" to="." method="_on_enemy_spawner_spawn_enemy_at"]

[editable path="Enemies/TheEyeBoss"]
[editable path="Enemies/StrafingUfo"]
